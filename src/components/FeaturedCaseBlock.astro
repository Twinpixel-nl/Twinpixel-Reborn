---
const { title, description, image, tags = [], stats = [], overview = [], href, accent = "#2F89FF" } = Astro.props;
import { Image } from "astro:assets";
---
<a class="wrap" href={href} style={`--accent:${accent};`} aria-label={`View case: ${title}`}>
  <div class="media">
    {image ? <img src={image} alt={title} loading="lazy" /> : <div class="ph"></div>}
    <div class="media-overlay" aria-hidden="true"></div>
  </div>

  <div class="content">
    <div class="top">
      <p class="kicker">Featured Case</p>
      <div class="accent-dot" aria-hidden="true"></div>
    </div>

    <h3 class="h3">{title}</h3>
    <p class="text">{description}</p>

    <div class="stats" aria-label="Case metrics">
      {stats.slice(0,3).map((s) => (
        <div class="stat">
          <span class="label">{s.label}</span>
          <span class="value">{s.value}</span>
        </div>
      ))}
    </div>

    <ul class="bullets">
      {overview.slice(0,3).map((b) => <li>{b}</li>)}
    </ul>

    <div class="bottom">
      <span class="cta">View Case →</span>

      <div class="tags" aria-label="Tags">
        {tags.map((t) => <span class="tag">{t}</span>)}
      </div>
    </div>
  </div>
</a>

<style>
  .wrap{
    display:grid;
    grid-template-columns: 1.1fr .9fr;
    gap: 0;
    border-radius: calc(var(--radius) + 8px);
    overflow:hidden;
    border: 1px solid rgba(255,255,255,.10);
    background: rgba(255,255,255,.03);
    position: relative;
    min-width: 0;
    box-shadow: 0 18px 70px rgba(0,0,0,.45);
    transition: transform .18s ease, border-color .18s ease, background-color .18s ease, box-shadow .18s ease;
  }

  /* subtle glow / sheen */
  .wrap::after{
    content:"";
    position:absolute;
    inset:-220px -160px;
    pointer-events:none;
    opacity: .65;
    background:
      radial-gradient(900px 520px at 20% 20%, color-mix(in srgb, var(--accent) 14%, transparent), transparent 60%),
      radial-gradient(900px 520px at 80% 80%, rgba(255,255,255,.05), transparent 65%);
    transition: opacity .18s ease;
  }

  /* premium border highlight */
  .wrap::before{
    content:"";
    position:absolute;
    inset:0;
    pointer-events:none;
    border-radius: inherit;
    padding: 1px;
    background: linear-gradient(135deg,
      rgba(255,255,255,.18),
      color-mix(in srgb, var(--accent) 22%, rgba(255,255,255,.08)),
      rgba(255,255,255,.06)
    );
    -webkit-mask:
      linear-gradient(#000 0 0) content-box,
      linear-gradient(#000 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    opacity: .55;
    transition: opacity .18s ease;
  }

  .wrap:hover{
    transform: translateY(-3px);
    border-color: color-mix(in srgb, var(--accent) 45%, rgba(255,255,255,.14));
    background-color: rgba(255,255,255,.04);
    box-shadow: 0 26px 90px rgba(0,0,0,.58);
  }
  .wrap:hover::before{ opacity: .85; }
  .wrap:hover::after{ opacity: .9; }

 .media{
  position: relative;
  min-width:0;
  background: rgba(0,0,0,.22);
  height: 100%;
  min-height: 360px;
}

@media (max-width: 980px){
  .media{ min-height: 220px; }
}

.media img{
  width:100%;
  height:100%;
  object-fit: cover;
  object-position: 50% 30%; /* iets omhoog = meestal beter bij website screenshots */
  display:block;
  transform: scale(1);
  transition: transform .45s ease;
}

.wrap:hover .media img{
  transform: scale(1.03);
}


img{
  width:100%;
  height:100%;
  object-fit:cover;
  object-position: center;
  transform: scale(1);
  transition: transform .45s ease;
  filter: none;
}
.wrap:hover img{ transform: scale(1.03); }

  /* make the image feel “integrated” into the dark UI */
.media-overlay{
  position:absolute;
  inset:0;
  background:
    radial-gradient(900px 520px at 15% 25%, color-mix(in srgb, var(--accent) 10%, transparent), transparent 60%),
    linear-gradient(90deg, rgba(0,0,0,.25), rgba(0,0,0,.08) 55%, rgba(0,0,0,.18));
  opacity: .55;
  pointer-events:none;
  transition: opacity .18s ease;
}
.wrap:hover .media-overlay{ opacity: .45; }

  .ph{ width:100%; height:100%; }

  /* CONTENT */
  .content{
    padding: 22px 22px 22px;
    position: relative;
    z-index: 1;
    min-width:0;
    display:flex;
    flex-direction:column;
    justify-content:center;
    gap: 12px;
    background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.00));
  }

  .top{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap: 10px;
  }

  .kicker{
    margin: 0;
    font-size: 12px;
    letter-spacing: .14em;
    text-transform: uppercase;
    color: rgba(255,255,255,.52);
  }

  .accent-dot{
    width: 10px;
    height: 10px;
    border-radius: 99px;
    background: var(--accent);
    box-shadow: 0 0 0 6px color-mix(in srgb, var(--accent) 18%, transparent);
    opacity: .95;
    flex: 0 0 auto;
  }

  .h3{
    margin: 0;
    font-size: 24px;
    letter-spacing: -0.03em;
    font-weight: 650;
    line-height: 1.15;
    overflow-wrap:anywhere;
    word-break: break-word;
  }

  .text{
    margin: 0;
    color: rgba(255,255,255,.68);
    line-height: 1.75;
    font-size: 15px;
    max-width: 60ch;
  }

  .stats{
    margin-top: 2px;
    display:grid;
    grid-template-columns: repeat(3, minmax(0,1fr));
    gap: 10px;
  }

  /* cleaner stats: less border-noise */
  .stat{
    border-radius: 16px;
    background: rgba(0,0,0,.18);
    border: 1px solid rgba(255,255,255,.06);
    padding: 11px 12px;
    transition: border-color .18s ease, transform .18s ease;
  }
  .wrap:hover .stat{
    border-color: color-mix(in srgb, var(--accent) 18%, rgba(255,255,255,.08));
  }

  .label{
    display:block;
    font-size: 11px;
    letter-spacing: .12em;
    text-transform: uppercase;
    color: rgba(255,255,255,.50);
  }
  .value{
    display:block;
    margin-top: 7px;
    font-size: 15px;
    color: rgba(255,255,255,.90);
  }

  .bullets{
    margin: 0;
    padding-left: 18px;
    color: rgba(255,255,255,.72);
    line-height: 1.9;
    font-size: 14px;
  }
  .bullets li{ margin: 4px 0; }

  .bottom{
    margin-top: 2px;
    display:flex;
    align-items:flex-end;
    justify-content:space-between;
    gap: 14px;
    flex-wrap: wrap;
  }

  .cta{
    color: rgba(255,255,255,.92);
    font-weight: 550;
    letter-spacing: .01em;
    position: relative;
  }

  .tags{
    display:flex;
    flex-wrap:wrap;
    gap: 10px;
  }

  .tag{
    font-size: 12px;
    padding: 7px 11px;
    border-radius: 999px;
    border: 1px solid rgba(255,255,255,.10);
    color: rgba(255,255,255,.72);
    background: rgba(0,0,0,.10);
  }

  @media (max-width: 980px){
    .wrap{ grid-template-columns: 1fr; }
    .media{ aspect-ratio: 16/9; }
    .content{ padding: 18px; }
    .stats{ grid-template-columns: 1fr; }
  }
</style>
