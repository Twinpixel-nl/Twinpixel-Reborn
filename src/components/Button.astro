---
const {
  href = "#",
  variant = "primary", // primary | secondary
  label = "Button",
  icon = false
} = Astro.props;
---
<a class={`btn ${variant}`} href={href}>
  <span class="label">{label}</span>
  {icon && <span class="arrow">â†’</span>}
</a>

<style>
  .btn{
    --gradA: #60a5fa;
    --gradB: #22d3ee;

    position: relative;
    display:inline-flex;
    align-items:center;
    gap:12px;

    padding: 14px 26px;
    border-radius: 999px;

    font-weight: 600;
    font-size: 15px;
    letter-spacing: .01em;

    border: none;
    cursor: pointer;
    overflow: hidden;

    transition:
      transform .25s cubic-bezier(.2,.8,.2,1),
      box-shadow .25s cubic-bezier(.2,.8,.2,1);
  }

  /* gradient layer */
  .btn::before{
    content:"";
    position:absolute;
    inset:0;
    background: linear-gradient(
      120deg,
      var(--gradA),
      var(--gradB),
      var(--gradA)
    );
    background-size: 200% 200%;
    animation: gradientShift 6s ease infinite;
    z-index:0;
  }

  /* soft glow */
  .btn::after{
    content:"";
    position:absolute;
    inset:-2px;
    border-radius: inherit;
    background: linear-gradient(120deg, var(--gradA), var(--gradB));
    opacity:.25;
    filter: blur(14px);
    z-index:0;
    transition: opacity .25s ease;
  }

  .label, .arrow{
    position:relative;
    z-index:1;
  }

  .arrow{
    transition: transform .25s cubic-bezier(.2,.8,.2,1);
  }

  .btn:hover{
    transform: translateY(-2px);
    box-shadow:
      0 18px 50px rgba(0,0,0,.45),
      0 10px 40px rgba(34,211,238,.35);
  }
  .btn:hover::after{ opacity:.45; }
  .btn:hover .arrow{ transform: translateX(4px); }

  /* primary */
  .primary{
    color: #071027;
  }

  /* secondary */
  .secondary{
    --gradA: rgba(96,165,250,.15);
    --gradB: rgba(34,211,238,.15);
    color: var(--text);
  }
  .secondary::before{
    background: linear-gradient(
      120deg,
      rgba(96,165,250,.15),
      rgba(34,211,238,.15)
    );
    animation:none;
  }
  .secondary::after{
    display:none;
  }

  @keyframes gradientShift{
    0%{ background-position: 0% 50%; }
    50%{ background-position: 100% 50%; }
    100%{ background-position: 0% 50%; }
  }
</style>
